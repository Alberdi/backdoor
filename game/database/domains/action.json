{
  "MOVE":{
    "params":[{
        "typename":"direction",
        "output":"pos"
      }],
    "cost":3,
    "operators":[],
    "effects":[{
        "typename":"move_to",
        "pos":"par:pos"
      }]
  },
  "DRAW":{
    "params":[],
    "effects":[{
        "typename":"draw_card",
        "amount":1
      }],
    "operators":[],
    "cost":4
  },
  "GET_PACK_CARD":{
    "params":[{
        "typename":"card_index",
        "output":"index",
        "source":"PACK"
      },{
        "typename":"choose_buffer",
        "output":"buffer"
      }],
    "cost":0,
    "operators":[{
        "typename":"self",
        "output":"actor"
      },{
        "source":"PACK",
        "typename":"get_actor_card",
        "card-index":"par:index",
        "output":"card",
        "actor":"val:actor"
      }],
    "effects":[{
        "typename":"add_card_to_backbuffer",
        "buffer":"par:buffer",
        "card":"val:card"
      },{
        "typename":"remove_actor_card",
        "card-index":"par:index",
        "source":"PACK",
        "actor":"val:actor"
      }]
  },
  "DEBUG":{
    "params":[],
    "cost":2,
    "operators":[],
    "effects":[{
        "typename":"print",
        "text":42
      }]
  },
  "SHOOT":{
    "params":[{
        "filter":"BODY",
        "max-range":5,
        "body-only":true,
        "output":"target",
        "typename":"choose_target"
      }],
    "cost":10,
    "operators":[{
        "typename":"get_attribute",
        "output":"attr",
        "which":"ATH"
      },{
        "typename":"dice_throw",
        "rolls":1,
        "output":"damage_roll",
        "sides":"val:attr"
      },{
        "typename":"get_body_at",
        "pos":"par:target",
        "output":"body"
      }],
    "effects":[{
        "typename":"deal_damage",
        "target":"val:body",
        "amount":"val:damage_roll"
      }]
  },
  "CONSUME_CARD":{
    "params":[{
        "typename":"card_index",
        "output":"card_index"
      }],
    "effects":[{
        "typename":"consume_card",
        "card_index":"par:card_index",
        "card":"val:card"
      },{
        "typename":"remove_actor_card",
        "card-index":"par:card_index",
        "source":"HAND",
        "actor":"val:self"
      }],
    "operators":[{
        "typename":"self",
        "output":"self"
      },{
        "source":"HAND",
        "typename":"get_actor_card",
        "card-index":"par:card_index",
        "output":"card",
        "actor":"val:self"
      }],
    "cost":2
  },
  "UPGRADE":{
    "params":[{
        "typename":"upgrade_list",
        "output":"list"
      },{
        "typename":"upgrade_cost",
        "output":"exp-cost"
      }],
    "cost":1,
    "operators":[{
        "lhs":"par:exp-cost",
        "typename":"integer_binop",
        "rhs":-1,
        "output":"final-cost",
        "op":"*"
      }],
    "effects":[{
        "typename":"upgrade_attribute",
        "upgrade_list":"par:list"
      },{
        "typename":"modify_exp",
        "value":"val:final-cost"
      }]
  },
  "CHANGE_SECTOR":{
    "params":[{
        "typename":"sector",
        "output":"sector"
      },{
        "typename":"direction",
        "output":"pos"
      }],
    "effects":[{
        "typename":"change_sector",
        "target_sector":"par:sector",
        "target_pos":"par:pos"
      }],
    "operators":[],
    "cost":1
  },
  "DOUBLESHOOT":{
    "params":[{
        "filter":"BODY",
        "max-range":6,
        "body-only":true,
        "output":"target",
        "typename":"choose_target"
      },{
        "filter":"BODY",
        "max-range":6,
        "body-only":true,
        "output":"target2",
        "typename":"choose_target"
      }],
    "effects":[{
        "typename":"deal_damage",
        "target":"val:body1",
        "amount":"val:dmg1"
      },{
        "typename":"deal_damage",
        "target":"val:body2",
        "amount":"val:dmg2"
      }],
    "operators":[{
        "typename":"get_body_at",
        "pos":"par:target",
        "output":"body1"
      },{
        "typename":"get_body_at",
        "pos":"par:target2",
        "output":"body2"
      },{
        "typename":"get_attribute",
        "output":"athletics",
        "which":"ATH"
      },{
        "op":"/",
        "typename":"integer_binop",
        "lhs":"val:athletics",
        "output":"half-ath",
        "rhs":2
      },{
        "typename":"dice_throw",
        "rolls":2,
        "output":"dmg1",
        "sides":"val:half-ath"
      },{
        "typename":"dice_throw",
        "rolls":2,
        "output":"dmg2",
        "sides":"val:half-ath"
      }],
    "cost":12
  },
  "NEW_HAND":{
    "params":[{
        "typename":"choose_buffer",
        "output":"label#1001"
      },{
        "typename":"empty_hand",
        "output":"output"
      }],
    "effects":[{
        "typename":"new_hand",
        "which":"par:label#1001"
      }],
    "operators":[],
    "cost":2
  },
  "HEAL":{
    "params":[{
        "filter":"BODY",
        "max-range":5,
        "body-only":true,
        "output":"target",
        "typename":"choose_target"
      }],
    "effects":[{
        "typename":"heal",
        "target":"val:body",
        "amount":"val:amount"
      }],
    "operators":[{
        "typename":"get_attribute",
        "output":"arcana",
        "which":"ARC"
      },{
        "op":"+",
        "typename":"integer_binop",
        "output":"amount",
        "rhs":2,
        "lhs":"val:arcana"
      },{
        "typename":"get_body_at",
        "pos":"par:target",
        "output":"body"
      }],
    "cost":6
  },
  "RECALL_CARD":{
    "params":[{
        "typename":"card_index",
        "output":"card_index"
      }],
    "effects":[{
        "typename":"add_card_to_backbuffer",
        "card":"val:card"
      },{
        "typename":"remove_actor_card",
        "card-index":"par:card_index",
        "source":"HAND",
        "actor":"val:self"
      }],
    "operators":[{
        "typename":"self",
        "output":"self"
      },{
        "source":"HAND",
        "typename":"get_actor_card",
        "card-index":"par:card_index",
        "output":"card",
        "actor":"val:self"
      }],
    "cost":2
  },
  "CONSUME_PACK_CARD":{
    "params":[{
        "typename":"card_index",
        "output":"index",
        "source":"PACK"
      }],
    "cost":0,
    "operators":[{
        "typename":"self",
        "output":"actor"
      },{
        "source":"PACK",
        "typename":"get_actor_card",
        "card-index":"par:index",
        "output":"card",
        "actor":"val:actor"
      }],
    "effects":[{
        "typename":"consume_card",
        "card":"val:card"
      },{
        "typename":"remove_actor_card",
        "card-index":"par:index",
        "source":"PACK",
        "actor":"val:actor"
      }]
  },
  "IDLE":{
    "params":[],
    "cost":1,
    "operators":[],
    "effects":[]
  },
  "BOLT":{
    "params":[{
        "typename":"choose_target",
        "max-range":5,
        "output":"target",
        "body-only":true
      }],
    "effects":[{
        "typename":"deal_damage",
        "target":"val:target_body",
        "amount":"val:dmg"
      }],
    "operators":[{
        "typename":"get_body_at",
        "pos":"par:target",
        "output":"target_body"
      },{
        "typename":"get_attribute",
        "output":"arcana",
        "which":"ARC"
      },{
        "op":"/",
        "typename":"integer_binop",
        "rhs":2,
        "output":"half-arcana",
        "lhs":"val:arcana"
      },{
        "typename":"dice_throw",
        "rolls":2,
        "output":"throw",
        "sides":"val:half-arcana"
      },{
        "lhs":"val:half-arcana",
        "typename":"integer_binop",
        "op":"+",
        "output":"dmg",
        "rhs":"val:throw"
      }],
    "cost":14
  }
}